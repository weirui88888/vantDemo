## æ•ˆæœå›¾


![](https://user-gold-cdn.xitu.io/2018/12/7/167845e8afaf6f2a?w=384&h=672&f=gif&s=766324)

### é¦–é¡µ

![](https://user-gold-cdn.xitu.io/2018/12/7/167844d1957b960b?w=395&h=678&f=png&s=57159)

### åˆ†ç±»é¡µ

![](https://user-gold-cdn.xitu.io/2018/12/7/167844d5dfa8fdc5?w=392&h=687&f=png&s=59976)

### æŸ¥è¯¢é¡µ

![](https://user-gold-cdn.xitu.io/2018/12/7/167844e12eb583c0?w=390&h=684&f=png&s=54291)

### è¯¦æƒ…é¡µ


![](https://user-gold-cdn.xitu.io/2018/12/7/167844e89aed2d43?w=392&h=678&f=png&s=97819)

## å‰è¨€
åŠå¹´å‰å†™è¿‡ä¸€ä¸ªpcç«¯çš„å‰åç«¯é¡¹ç›®[express-mongodb-vue][1]ï¼Œæ”¶åˆ°äº†ä¸€äº›åŒå­¦çš„æ„Ÿè°¢ç§ä¿¡ã€‚è‡ªå·±å†™çš„ä¸€äº›æŠ€æœ¯åšå®¢èƒ½å¤Ÿå¾—åˆ°åˆ«äººçš„è®¤å¯ï¼Œå¸®åŠ©ä»–äººçš„åŒæ—¶ï¼Œä¹Ÿå¯ä»¥æé«˜è‡ªå·±çš„æŠ€æœ¯èƒ½åŠ›å’Œè¯­è¨€è¡¨è¾¾èƒ½åŠ›ï¼Œä½•ä¹è€Œä¸ä¸ºã€‚

è¿™æ¬¡æ­£å¥½æˆ‘ä»¬ç»„æœ‰ä¸ªç§»åŠ¨ç«¯é¡¹ç›®ï¼Œæˆ‘åœ¨ç½‘ä¸Šçœ‹äº†ä¸€äº›ç§»åŠ¨ç«¯çš„vueç»„ä»¶åº“ï¼Œæ²¡æœ‰ä»€ä¹ˆè®©æˆ‘ä¸€çœ¼çˆ±ä¸Šçš„ï¼Œåæ¥å‘ç°äº†æœ‰èµå…¬å¸å¼€æºçš„ä¸€å¥—vueç»„ä»¶åº“[vant][2]ï¼Œé¡¿æ—¶è®©æˆ‘å¿ƒè·³åŠ é€Ÿï¼Œæ¬¢å–œçš„ä¸è¡Œã€‚è¿™é‡Œæˆ‘è¦å…ˆæ„Ÿè°¢**æœ‰èµå…¬å¸**ï¼Œ"å¤§å“¥"ç‰›é€¼ã€‚

å› ä¸ºæˆ‘ä»¬ç»„å¼€å‘æ¨¡å¼è¿˜æ˜¯æ²¡æœ‰å®Œå…¨è„±ç¦»å‰åç«¯åˆ†ç¦»ï¼Œè¿˜æ˜¯åœ¨ç”¨`springmvc`ã€`jsp`é‚£ä¸€å¥—ä¸œè¥¿ ï¼Œæ‰€ä»¥æƒ³è¦æ”¾å¼€æ‰‹æ¥å¹²ï¼Œå¼€å‘å•é¡µåº”ç”¨æ˜¯ä¸ç°å®çš„ã€‚äºæ˜¯ä¹ï¼Œåªå¥½è€è€å®å®çš„å»é…åˆåå°å¼€å‘ï¼Œæ²¡æœ‰ä½¿ç”¨è„šæ‰‹æ¶æ­å»ºæ¨¡å—åŒ–å·¥ç¨‹ï¼Œè€Œæ˜¯ç”¨äº†cdn,æ¥å›è°ƒç”¨ä»–çš„`controler`...

å› ä¸ºé¡¹ç›®å±‚çº§ç»“æ„ç›¸å¯¹æ¥è¯´æ¯”è¾ƒç®€å•ï¼Œè€Œä¸”æ˜¯å…¸å‹çš„å•é¡µåº”ç”¨ï¼Œäºæ˜¯ä¹ï¼Œæˆ‘æƒ³æ˜¯å¦å¯ä»¥å°è¯•ç€è‡ªå·±ä¸€ä¸ªäººæå®šå‰åå°ã€‚å› ä¸ºé¡¹ç›®ä¸æ¶‰åŠæœ¬å…¬å¸æ•æ„Ÿå†…å®¹ï¼Œæ‰€ä»¥å†³å®šæ’¸èµ·è¢–å­åŠ æ²¹å¹²ã€‚

## å¤‡æ³¨
è¯¥éœ€æ±‚é‡Œé¢æ¶‰åŠçš„æŠ€æœ¯ç‚¹è¿˜æ˜¯ç›¸å¯¹æ¥è¯´æ¯”è¾ƒä¸°å¯Œçš„ï¼Œæˆ‘ä¼šå°†ä¸€äº›ç–‘éš¾ç‚¹æˆ‘ä¼šæ‹å‡ºæ¥ç»™å¤§å®¶é‡ç‚¹è®²ä¸‹ã€‚ç›¸æ¯”ä»£ç çš„ç¼–å†™ï¼Œæˆ‘æ›´åŠ å…³æ³¨æ•´ä¸ªæ€è·¯ã€‚ä½ å¯ä»¥è·Ÿç€æˆ‘çš„æ€è·¯ï¼Œå»`github`ä¸ŠåŠ ä»£ç `clone`ä¸‹æ¥ï¼Œå…ˆå¤§æ¦‚æ‹ä¸€éï¼Œé‡åˆ°é—®é¢˜ï¼Œå¯ä»¥ç§ä¿¡æˆ‘ã€‚å¤§å®¶ä¸€èµ·æˆé•¿ï½

æˆ‘ç›¸ä¿¡ï¼Œå°†ä»£ç æ‹å‡ éåï¼Œè‡ªå·±å†å»å®æˆ˜ä¸€éï¼Œä½ ä¸€å®šä¼šæ”¶è·é¢‡ä¸°ã€‚

> å½“ä½ å®æˆ˜çš„æ—¶å€™ï¼Œä½ å¯èƒ½éœ€è¦å»ºç«‹æ•°æ®åº“è¡¨ï¼Œsqlè¯­å¥å¯ä»¥æ‰¾æˆ‘è¦ï¼Œé¡¹ç›®é‡Œé¢çš„å›¾æ ‡æˆ‘ä¹Ÿåœ¨iconfontä¸Šå»ºç«‹äº†ä¸ªé¡¹ç›®ï¼Œå¦‚æœä¹Ÿè¦å¤ç”¨çš„è¯ï¼Œä¹Ÿå¯ä»¥è”ç³»æˆ‘ï¼Œæˆ‘æŠŠä½ åŠ å…¥é¡¹ç›®ï¼Œä½ å°±å¯ä»¥ç›´æ¥ä½¿ç”¨äº†ã€‚



## æŠ€æœ¯æ ˆ

`vue` `vant` `vue-router` `axios`  `lodash` `better-scroll` `express` `mongoose` `sessionStorage` `iconFont` `vue-wechat-title`

**ä¸Šé¢åˆ—å‡ºçš„æ˜¯æœ¬æ¬¡å®è·µä¸»è¦ç”¨åˆ°çš„ä¸€äº›æŠ€æœ¯ç‚¹ï¼Œä¸‹é¢ä¼šç®€å•ä»‹ç»ä¸‹ï¼ŒåŒæ—¶ç»™å¤§å®¶è´´å‡ºé“¾æ¥ï¼Œæƒ³è¦å…·ä½“äº†è§£çš„ï¼Œå¯è‡ªè¡Œå‰å¾€å­¦ä¹ **

 - **[vue][3]** ä¸å¤šä»‹ç»äº†ï¼Œæ¸è¿›å¼æ¡†æ¶ï¼Œä¹Ÿæ˜¯ç›®å‰æˆ‘æœ€å–œæ¬¢æˆ–æ˜¯ç”¨èµ·æ¥æœ€çˆ½çš„å‰ç«¯æ¡†æ¶
 - **[vant][4]**  æœ‰èµå…¬å¸æä¾›çš„ï¼Œè½»é‡ã€å¯é çš„ç§»åŠ¨ç«¯ Vue ç»„ä»¶åº“ï¼Œååˆ†å¥½ç”¨çš„å¼€æºç»„ä»¶åº“
 - **[vue-router][5]**  å®˜æ–¹çš„è·¯ç”±ç®¡ç†å™¨ï¼Œå¼€å‘å•é¡µåº”ç”¨å¿…å¤‡ç¥å™¨
 - **[axios][6]**  æ˜¯ä¸€ä¸ªåŸºäº promise çš„ HTTP åº“ï¼Œå‰åå°äº¤äº’ç¥å™¨ï¼Œæœ¬é¡¹ç›®åŸæœ¬æ˜¯ç”¨vue-resourceçš„ï¼Œåå°ä¸ºäº†ç»™å¤§å®¶ä»‹ç»ä¸‹å¦‚ä½•ä½¿ç”¨ï¼Œæ¢æˆäº†axios
 - **[lodash][7]**  ä¸€ä¸ªä¸€è‡´æ€§ã€æ¨¡å—åŒ–ã€é«˜æ€§èƒ½çš„ JavaScript å®ç”¨å·¥å…·åº“ã€‚æœ¬æ¬¡é¡¹ç›®åº”ç”¨åˆ°lodashçš„ä¸å¤šï¼Œåªæ˜¯å‘Šè¯‰å¤§å®¶å¦‚ä½•åˆ©ç”¨è¯¥å·¥å…·åº“
 - **[better-scroll][8]**  ä¸€ä¸ªç§»åŠ¨ç«¯æ»šåŠ¨çš„è§£å†³æ–¹æ¡ˆ
 - **[express][9]**  åŸºäº Node.js å¹³å°ï¼Œå¿«é€Ÿã€å¼€æ”¾ã€æç®€çš„ Web å¼€å‘æ¡†æ¶
 - **[mongoose][10]**  æ˜¯åœ¨node.jså¼‚æ­¥ç¯å¢ƒä¸‹å¯¹mongodbè¿›è¡Œä¾¿æ·æ“ä½œçš„å¯¹è±¡æ¨¡å‹å·¥å…·
 - **[sessionStorage][11]** æœ¬åœ°ç¼“å­˜çš„ä¸€ç§æ–¹å¼ï¼Œå…¶ä»–çš„è¿˜æœ‰localStorageã€cookie
 - **[iconFont][12]** é˜¿é‡Œå·´å·´å›¾æ ‡åº“
 - **[vue-wechat-title][13]** å•é¡µåº”ç”¨åˆ‡æ¢é¡µé¢æ—¶ï¼Œæ”¹å˜é¡µé¢titleçš„æ’ä»¶åº“

---

# æ­£æ–‡

æ•´ä¸ªé¡¹ç›®å½’çº³ä¸‹ï¼Œå¯ä»¥åˆ†ä¸ºä¸‰å¤§æ¨¡å—ï¼Œæˆ‘ä¼šå›´ç»•æ¯ä¸ªæ¨¡å—ä¸ºå¤§å®¶ç»†è¯´ä¸€äº›é—®é¢˜

 - å‰å°
 - åå°
 - æ•°æ®åº“

## å‰å°

æœ¬é¡¹ç›®å‰ç«¯æ˜¯ç”¨å®˜æ–¹è„šæ‰‹æ¶[vue cli 3][14]ï¼Œç»“åˆç§»åŠ¨ç«¯æ¡†æ¶[vant][15]æ„å»ºè€Œæˆçš„ã€‚

### ç¬¬ä¸€æ­¥ï¼šæ–°å»ºé¡¹ç›®ï¼Œå®‰è£…ä¾èµ–é¡¹

é€šè¿‡å‘½ä»¤è¡Œå®‰è£…å®˜æ–¹è„šæ‰‹æ¶ï¼Œåˆ›å»ºä¸€ä¸ªé¡¹ç›®


    # å®‰è£… Vue Cli
    npm install -g @vue/cli

    # åˆ›å»ºä¸€ä¸ªé¡¹ç›®
    vue create wechat-common-problem
    
    
![](https://user-gold-cdn.xitu.io/2018/12/6/167843d53a4da0e3?w=464&h=132&f=png&s=20993)
    
æ‰§è¡Œå®Œä¸Šé¢ä¸¤æ­¥åï¼Œæˆ‘ä»¬å·²ç»åˆ›å»ºäº†ä¸€ä¸ªé¡¹ç›®`wechat-common-problem`ï¼Œå…¶ä¸­æ‰§è¡Œç¬¬äºŒæ­¥çš„æ—¶å€™ï¼Œä¼šè®©ä½ é€‰æ‹©é¢„ç½®ï¼Œä¸ç”¨ç®¡ï¼Œç›´æ¥é€‰æ‹©é»˜è®¤å›è½¦å³å¯ã€‚ï¼ˆæƒ³è¦äº†è§£è¯¦æƒ…çš„å¯ä»¥å»çœ‹å®˜æ–¹vuecli3ä»‹ç»ï¼‰

åˆ›å»ºå®Œæˆåï¼Œå¯ä»¥é€šè¿‡å‘½ä»¤æ‰“å¼€å›¾å½¢åŒ–ç•Œé¢ï¼ˆä¸å¾—ä¸è¯´ï¼Œç°åœ¨çš„å‰ç«¯å·¥ç¨‹åŒ–çœŸæ˜¯è¶Šæ¥è¶Šç‰›é€¼ï¼‰

    # æ‰“å¼€å›¾å½¢åŒ–ç•Œé¢
    vue ui

å›¾å½¢åŒ–ç•Œé¢æ‰“å¼€åï¼Œå¯ä»¥é€šè¿‡é¡¹ç›®ç®¡ç†å™¨å…¥å£ï¼Œå¯¼å…¥åˆšæ‰è‡ªå·±åˆ›å»ºçš„é¡¹ç›®

![](https://user-gold-cdn.xitu.io/2018/12/6/167843ee656e4102?w=1303&h=606&f=png&s=54488)

ç„¶åé€šè¿‡å›¾å½¢åŒ–ç•Œé¢å®‰è£…ä¸€äº›æ¨¡å—ä¾èµ–ï¼ˆä¹Ÿå¯ä»¥é€šè¿‡å‘½ä»¤è¡Œå®‰è£…ï¼‰ï¼Œå®‰è£…ä¾èµ–çš„æ—¶å€™ï¼Œè®°å¾—æ³¨æ„è¿è¡Œä¾èµ–å’Œå¼€å‘ä¾èµ–çš„åŒºåˆ«ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ä»¥å‰é€šè¿‡å‘½ä»¤è¡Œå®‰è£…æ—¶ï¼Œæ‡µé€¼çš„`--save`å’Œ`--save-dev`ã€‚

å…¶ä¸­è¦æ³¨æ„ï¼Œè¯¥é¡¹ç›®å¼•å…¥vantç»„ä»¶æ˜¯ç”¨çš„å®˜æ–¹æ¨èçš„æŒ‰éœ€å¼•ç”¨æ–¹å¼ï¼Œç”¨åˆ°çš„æ’ä»¶`babel-plugin-import`ï¼Œè¯¥æ’ä»¶ä¸ºå¼€å‘ä¾èµ–ã€‚å…¶ä½™å¼•å…¥çš„ä¾èµ–å¤§éƒ¨åˆ†éƒ½æ˜¯è¿è¡Œä¾èµ–ã€‚å¦‚ä¸‹åˆå›¾çš„`axios` `better-scroll` `express` `mongoose`ç­‰

![](https://user-gold-cdn.xitu.io/2018/12/6/167843f41980af34?w=446&h=676&f=png&s=102262)

ç›¸å…³ä¾èµ–å®‰è£…å¥½åï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å›¾å½¢åŒ–ç•Œé¢ï¼Œå¯åŠ¨è‡ªå·±é¡¹ç›®ï¼Œé¡¹ç›®å¯åŠ¨æˆåŠŸåï¼Œå¯ä»¥ç‚¹å‡»å¯åŠ¨å¯åŠ¨appï¼Œå³å¯çœ‹åˆ°é»˜è®¤çš„é¡¹ç›®èµ·æ¥äº†ã€‚

![](https://user-gold-cdn.xitu.io/2018/12/7/167843fdd85d123c?w=1440&h=350&f=png&s=81867)

### ç¬¬äºŒæ­¥ï¼šå»ºç«‹è·¯ç”±æ–‡ä»¶ã€å›¾æ ‡æ–‡ä»¶ã€å®šä¹‰å·¥å…·ç±»å‡½æ•°

å› ä¸ºè¯¥é¡¹ç›®æ˜¯å•é¡µåº”ç”¨ï¼Œæ‰€ä»¥éœ€è¦å»ºç«‹è·¯ç”±ï¼Œæˆ‘ä»¬åœ¨`src`ç›®å½•ä¸‹ï¼Œå»ºç«‹ä¸€ä¸ª`router`æ–‡ä»¶å¤¹ï¼Œ`router`æ–‡ä»¶å¤¹ä¸­å»ºç«‹ä¸€ä¸ª`index.js`æ–‡ä»¶ï¼Œç„¶åé…ç½®æˆ‘ä»¬é¡¹ç›®çš„è·¯ç”±æ–‡ä»¶ã€‚

![](https://user-gold-cdn.xitu.io/2018/12/7/1678441c812d71f7?w=766&h=753&f=png&s=156546)

ç”±äºæˆ‘ä»¬é¡¹ç›®å½“ä¸­çš„å›¾æ ‡ç”¨çš„æ˜¯`iconfont`çŸ¢é‡å›¾ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨`iconfont`å®˜ç½‘ä¸Šå»ºç«‹äº†ä¸€ä¸ªé¡¹ç›®ï¼Œç”¨æ¥å­˜å‚¨æœ¬æ¬¡é¡¹ç›®ç”¨åˆ°çš„ä¸€äº›å›¾æ ‡ã€‚`iconfont`å›¾æ ‡ä¸€å…±æ”¯æŒä¸‰ç§ä½¿ç”¨æ–¹å¼ï¼Œæˆ‘ä»¬æ ¹æ®`vant`æ¡†æ¶çš„æŒ‡å¼•ï¼Œä½¿ç”¨çš„æ˜¯`unicode`è¿™ç§æ–¹å¼ï¼Œä¸‰ç§æ–¹å¼ä¹‹é—´çš„åŒºåˆ«ï¼Œå¯ä»¥è‡ªè¡Œå‰å¾€`iconfont`é¡µé¢äº†è§£ã€‚

æˆ‘ä»¬åœ¨`src`ç›®å½•ä¸‹é¢ï¼Œåˆ›å»ºä¸€ä¸ª`icon`æ–‡ä»¶å¤¹ï¼Œç”¨äºå­˜æ”¾ä¸‹è½½çš„å›¾æ ‡æ–‡ä»¶ï¼Œç„¶ååœ¨`iconfont.css`æ–‡ä»¶ä¸­ï¼Œåšä¸€äº›ä¿®æ”¹ï¼Œæ¯”å¦‚å®šä¹‰é»˜è®¤å›¾æ ‡çš„å¤§å°ï¼Œé¢œè‰²ç­‰ï¼Œå…·ä½“çš„å¯ä»¥å‚è€ƒæˆ‘çš„ä»£ç ã€‚

ç„¶åæˆ‘ä»¬åœ¨`main.js`ä¸­å¼•å…¥`iconfont.css`æ–‡ä»¶,å³å¯æ ¹æ®`vant`æä¾›çš„è‡ªå®šä¹‰å›¾æ ‡æ–¹å¼åœ¨é¡µé¢ä¸­å¼•ç”¨äº†ã€‚ï¼ˆ*è¿™é‡Œè¦æé†’ä¸€ä¸‹ï¼Œå¦‚æœä½ ä»¬è¦è‡ªå·±æ–°å»ºä¸€ä¸ª`iconfont`é¡¹ç›®çš„è¯ï¼Œé‡Œé¢çš„å›¾æ ‡å‰ç¼€ï¼Œå’Œå›¾æ ‡çš„åå­—ä¸€å®šè¦å…ˆå®šä¹‰å¥½ï¼Œå¦åˆ™åæœŸæ›´æ”¹çš„æ—¶å€™ï¼Œä¼šç›¸å½“éº»çƒ¦*ï¼‰

ç”±äºæˆ‘ä»¬é¡¹ç›®ä¸­ä¼šæ¶‰åŠåˆ°è·å–åå°æ•°æ®çš„äº¤äº’ã€‚åˆšå¼€å§‹çš„æ—¶å€™ï¼Œæˆ‘æ˜¯ç”¨çš„`vue-resource`æ¥è·å–æ•°æ®çš„ï¼Œä½†æ˜¯ç”±äºç°åœ¨`vue`å®˜æ–¹ç»´æŠ¤çš„æ˜¯`axios`ï¼Œæ‰€ä»¥æˆ‘ä¹Ÿæ›¿æ¢æˆäº†`axios`ï¼Œä¸å¾—ä¸è¯´ï¼Œ`axios`è¿˜æ˜¯å¾ˆå¥½ç”¨çš„ï¼Œæˆ‘ä»¬å¯ä»¥åˆå§‹åŒ–å®šåˆ¶æŸ¥è¯¢`baseUrl`ã€å¯ä»¥æ·»åŠ è¯·æ±‚æ‹¦æˆªå™¨ã€å¯ä»¥ä¸ºæ¯æ¬¡è¯·æ±‚æ·»åŠ è¯·æ±‚å¤´éƒ¨å­—æ®µç­‰ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦è‡ªè¡Œæ·»åŠ ã€‚

å› ä¸ºæˆ‘ä»¬åœ¨å¼€å‘çš„æ—¶å€™ï¼Œå¯èƒ½ä¼šé‡å¤ç”¨åˆ°ä¸€äº›å·¥å…·ç±»å‡½æ•°ï¼Œæ¯”å¦‚è¯´å­˜ç¼“å­˜ã€å–ç¼“å­˜ï¼Œè·å–`url`å‚æ•°ï¼Œå¸¸ç”¨æ ¡éªŒæ ¼å¼çš„æ­£åˆ™ç­‰ç­‰ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å†™ä¸€ä¸ªå·¥å…·ç±»å‡½æ•°ï¼Œå¯ä»¥é¿å…ä»£ç å†—ä½™ã€‚

åœ¨`common`ç›®å½•çš„`js`ä¸‹æ–‡ä»¶ä¸‹ï¼Œæˆ‘åˆ›å»ºäº†ä¸€ä¸ª`myTool.js`å·¥å…·ç±»å‡½æ•°ï¼Œé‡Œé¢æœ‰ä¸€äº›é€šç”¨çš„æ–¹æ³•ã€‚è¿˜æœ‰ä¸€ä¸ª`request.js`æ–‡ä»¶ï¼Œç”¨æ¥åˆ›å»º`axios`å®ä¾‹ï¼Œåœ¨éœ€è¦çš„ç»„ä»¶ä¸­ï¼Œç›´æ¥è°ƒç”¨å®ä¾‹ï¼Œå‘é€è¯·æ±‚å³å¯ã€‚å¯ä»¥å®ç°ä¸€æ¬¡ç¼–å†™ï¼Œå¤šæ¬¡åˆ©ç”¨ã€‚

**åˆ°è¿™é‡Œï¼Œå‰å°è¿™ä¸€å—çš„æ¶æ„åŸºæœ¬ä¸Šå·²ç»æ­å»ºå¥½äº†ï¼Œå‰©ä¸‹çš„å°±æ˜¯å†™ä¸šåŠ¡ä»£ç äº†ï¼Œå¯ä»¥è‡ªè¡Œå‚è€ƒä»£ç **


## åå°

### ç¬¬ä¸€æ­¥ï¼šå»ºç«‹æ•°æ®æ¨¡å‹schema
åå°è¿™ä¸€å—ï¼Œæˆ‘æ˜¯ç”¨çš„åŸºäº`node`çš„webå¼€å‘æ¡†æ¶`express`,é‡Œé¢åŸºæœ¬çš„æ¦‚å¿µä¹Ÿå°±æ˜¯ä¸­é—´ä»¶å’Œè·¯ç”±ï¼Œè¿™é‡Œçš„è·¯ç”±æˆ‘ç†è§£å°±æ˜¯`spring mvc`é‚£ä¸€å¥—é‡Œé¢çš„`controler`ã€‚

åœ¨æ ¹ç›®å½•ä¸‹é¢å»ºç«‹ä¸ª`models`æ–‡ä»¶å¤¹ï¼Œé‡Œé¢æ–°å»ºäº†ä¸ª`allProblem.js`æ–‡ä»¶ï¼Œæ˜¯ç”¨æ¥å»ºç«‹æ•°æ®æ¨¡å‹(`mongodb`è¿™ä¸€å—æˆ‘ç›®å‰è¿˜ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œæœ‰æƒ³å…·ä½“äº†è§£çš„ï¼Œå¯ä»¥è‡ªè¡Œå‰å¾€å­¦ä¹ ï¼Œå¥½åƒæŒºæœ‰æ„æ€çš„)

### ç¬¬äºŒæ­¥ï¼šå»ºç«‹åå°è·¯ç”±

åœ¨æ ¹ç›®å½•ä¸‹é¢å»ºç«‹ä¸ª`router`æ–‡ä»¶å¤¹ï¼Œé‡Œé¢æ–°å»ºäº†ä¸ª`commonProblem.js`è·¯ç”±æ–‡ä»¶ï¼Œé‡Œé¢å®šä¹‰äº†æ•´ä¸ªé¡¹ç›®å‰å°éœ€è¦ç”¨åˆ°çš„ä¸€äº›è·¯ç”±ï¼ˆè¯¥è·¯ç”±å’Œ`vue-router`ä¸æ˜¯ä¸€ä¸ªæ¦‚å¿µï¼Œéœ€è¦åŒºåˆ†å¼€ï¼‰ï¼Œè¿™é‡Œçš„è·¯ç”±è¯´ç™½äº†ï¼Œå°±æ˜¯å‰ç«¯è¯·æ±‚è¿‡æ¥äº†ï¼Œåå°éœ€è¦æ‰§è¡Œä»€ä¹ˆåŠ¨ä½œï¼Œå»æ•°æ®åº“ä¸­æ“ä½œæ•°æ®ï¼Œæœ€ç»ˆè¿”å›ç»™é¡µé¢ä¸€ä¸ªç»“æœã€‚

å› ä¸º`mongodb sql`è¯­å¥è¿™ä¸€å—æˆ‘æ‰åˆšå¼€å§‹å­¦ä¹ ï¼Œæ‰€ä»¥æœ‰å¾ˆå¤šå¿«æ·æ“ä½œæ•°æ®åº“çš„æ–¹æ³•è¿˜ä¸ä¼šï¼Œé‡Œé¢å¸¸ç”¨çš„å°±æ˜¯`find` `findOne` `findById`åŸºæœ¬ä¸Šèƒ½æ»¡è¶³æˆ‘ä»¬çš„ä¸€äº›ç®€å•çš„æŸ¥è¯¢éœ€æ±‚ã€‚

### ç¬¬ä¸‰æ­¥ï¼šå»ºç«‹åå°å¯åŠ¨æ–‡ä»¶

åœ¨æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ª`app.js`æ–‡ä»¶ï¼Œè¿æ¥ä¸Šè¯¥é¡¹ç›®ç”¨åˆ°çš„æœ¬åœ°æ•°æ®åº“`problem`ï¼Œå°†åå°è·¯ç”±å’Œæ•°æ®åº“å»ºç«‹å…³è”å…³ç³»ã€‚

    var db = mongoose.connect('mongodb://localhost:27017/problem');
    
### ç¬¬å››æ­¥ï¼šè§£å†³è·¨åŸŸé—®é¢˜
å› ä¸ºæˆ‘ä»¬çš„å‰ç«¯é¡¹ç›®é»˜è®¤æ˜¯åœ¨`8080`ç«¯å£ï¼Œè€Œæˆ‘ä»¬å¯åŠ¨åå°çš„ç«¯å£ä¸º`3000`ï¼Œ`vue-cli3`è„šæ‰‹æ¶æ­å»ºçš„é¡¹ç›®ï¼Œå·²ç»ä¸å†æœ‰ä¹‹å‰çš„`build`å’Œ`config`æ–‡ä»¶å¤¹äº†ï¼Œä¹‹å‰ç‰ˆæœ¬è§£å†³è·¨åŸŸé—®é¢˜æ˜¯ä¿®æ”¹`config`ç›®å½•ä¸‹é¢çš„`index.js`æ–‡ä»¶ï¼Œé‡Œé¢æœ‰ä¸ªé…ç½®é¡¹`proxyTable`ã€‚

ç°åœ¨ï¼Œåè€Œæ›´åŠ æ–¹ä¾¿äº†ï¼Œæˆ‘ä»¬åªéœ€åœ¨**æ ¹ç›®å½•**åˆ›å»ºä¸€ä¸ª`vue.config.js`æ–‡ä»¶å³å¯ï¼Œåœ¨æ–‡ä»¶ä¸­æ–°å¢ä¸€äº›é…ç½®é¡¹ï¼Œæ¯”å¦‚æ”¹å˜é»˜è®¤ç«¯å£ã€è§£å†³è·¨åŸŸé—®é¢˜ç­‰ã€‚

##æ•°æ®åº“
è¯¥é¡¹ç›®å®ç”¨çš„åå°è¯­è¨€æ˜¯`node`,æ‰€ä»¥è¿™é‡Œæ•°æ®åº“æˆ‘é€‰æ‹©äº†ç”¨`mongodb`,æˆ‘ä»¬åªéœ€åœ¨æœ¬åœ°ä¸‹è½½`mongodb`ï¼Œå¯åŠ¨åï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨å›¾å½¢åŒ–å·¥å…·[Robo 3T][16]è¿›è¡Œæ•°æ®åº“æ–¹ä¾¿å»ºåº“å»ºè¡¨å·¥ä½œã€‚åœ¨è¯¥é¡¹ç›®ä¸­åˆ›å»ºçš„åº“æ˜¯`problem`ï¼Œç”¨åˆ°çš„è¡¨ä¸º`allProblem`ã€‚


![](https://user-gold-cdn.xitu.io/2018/12/7/1678442ec686943f?w=714&h=481&f=png&s=119557)

*å¦‚æœè§‰å¾—å®‰è£…ã€å¯åŠ¨mongodbéº»çƒ¦çš„è¯ï¼Œæ¨èå¤§å®¶ä½¿ç”¨[homebrew][17]ä¸€é”®å®‰è£…å¯åŠ¨*

----------

**å¥½äº†ï¼Œåˆ°è¿™é‡Œæˆ‘ä»¬çš„å‡†å¤‡å·¥ä½œå·²ç»å®Œæˆäº†ã€‚æˆ‘ä»¬å›é¡¾ä¸‹åšäº†å“ªäº›å‡†å¤‡å·¥ä½œ**

 1. ç”¨å®˜æ–¹è„šæ‰‹æ¶`vuecli3`åˆ›å»ºé¡¹ç›®`wechat-common-problem`ï¼Œå¹¶é€šè¿‡å›¾å½¢åŒ–`ui`å·¥å…·å®‰è£…é¡¹ç›®éœ€è¦çš„å¼€å‘ä¾èµ–å’Œè¿è¡Œä¾èµ–ï¼›
 2. å»ºç«‹å‰ç«¯è·¯ç”±æ–‡ä»¶`index.js`ã€å›¾æ ‡æ–‡ä»¶ã€å®šä¹‰å·¥å…·ç±»å‡½æ•°`myTool.js`  `request.js`ï¼›
 3. å»ºç«‹æ•°æ®æ¨¡å‹`allProblem.js`æ–‡ä»¶ï¼›
 4. å»ºç«‹åå°è·¯ç”±æ¥å£`commonProblem.js`æ–‡ä»¶ï¼›
 5. å»ºç«‹`vue.config.js`æ–‡ä»¶ï¼Œè§£å†³é¡¹ç›®è·¨åŸŸé—®é¢˜ï¼›
 6. ä½¿ç”¨å›¾å½¢åŒ–æ•°æ®åº“å·¥å…·`Robo 3t`å»ºåº“å»ºè¡¨ï¼›
 

## æ€»ç»“

ä¸Šé¢çš„å‡†å¤‡å·¥ä½œå®Œæˆä¹‹åï¼Œå°±æ˜¯ç¼–å†™ä¸šåŠ¡ä»£ç ï¼Œè¿™é‡Œæˆ‘ç»™å¤§å®¶åˆ—å‡ºä¸€äº›å®é™…å¼€å‘è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜ã€‚

> å›¾æ ‡åº“iconfontçš„ä½¿ç”¨è™½ç„¶å¯ä»¥å‡å°‘httpè¯·æ±‚å›¾ç‰‡çš„æ¬¡æ•°ï¼Œæ–¹ä¾¿æˆ‘ä»¬å¼€å‘ã€‚ä½†æ˜¯æˆ‘ä»¬ä»¥ååœ¨åˆ›å»ºå›¾æ ‡åº“æ—¶ï¼Œå›¾æ ‡å‰ç¼€ä¸€å®šè¦è§„èŒƒï¼Œå›¾æ ‡åå­—ä¹Ÿå°½é‡ç”¨å›¾æ ‡å¯¹åº”çš„è‹±æ–‡ã€‚é¿å…åæœŸæ›´æ”¹å›¾æ ‡ï¼Œä»¥åŠåœ¨é¡¹ç›®ä¸­ä½¿ç”¨å¯¹åº”å›¾æ ‡çš„å¾ˆå¤šéº»çƒ¦ã€‚
 
> better-scrollç»„ä»¶ï¼Œè§£å†³ç§»åŠ¨ç«¯æ»šåŠ¨çš„é—®é¢˜ï¼Œé‡Œé¢æä¾›äº†å¾ˆå¤šé…ç½®é¡¹ï¼Œæœ¬é¡¹ç›®ä¸­å°±ç”¨äº†åŸºæœ¬çš„é…ç½®é¡¹ã€‚ä½†æ˜¯æˆ‘ä»¬ä»£ç å†™çš„æ—¶æœºã€ç»“æ„ä¹Ÿå¾ˆæœ‰è®²ç©¶ï¼Œå¦åˆ™å¯èƒ½ä¸ä¼šè¾¾åˆ°ä½ é¢„æœŸçš„ç»“æœï¼ˆä¸æ»šåŠ¨ï¼‰ï¼Œåœ¨æˆ‘ä»¬çš„å®é™…å·¥ä½œä¸­ï¼Œåˆ—è¡¨çš„æ•°æ®å¾€å¾€éƒ½æ˜¯å¼‚æ­¥è·å–çš„ï¼Œå› æ­¤æˆ‘ä»¬åˆå§‹åŒ– better-scroll çš„æ—¶æœºéœ€è¦åœ¨æ•°æ®è·å–åã€‚ä¹Ÿä¼šé‡åˆ°æ»šåŠ¨çš„æ—¶å€™ï¼Œæœ€ä¸‹é¢çš„æ•°æ®è¢«æŒ¡ä½çš„é—®é¢˜ï¼Œè¿™æ—¶ä¸å¦¨åŠ ä¸Šä¸€ä¸ªå®šæ—¶å™¨ã€‚

> ç”±äºæˆ‘ä»¬é¡¹ç›®ä¸ºå•é¡µåº”ç”¨ï¼Œæ‰€ä»¥å¦‚æœæˆ‘ä»¬æƒ³è¦æ ¹æ®ä¸åŒçš„é¡µé¢æ”¹å˜titleçš„è¯ï¼Œå¯ä»¥ä½¿ç”¨vue-wechat-titleæ’ä»¶ç»“åˆvue-routeræä¾›çš„è·¯ç”±å¯¼èˆªå®ç°ã€‚

> æ ¹æ®æ­£å¸¸ç”¨æˆ·çš„æ“ä½œä¹ æƒ¯ï¼Œæˆ‘ä»¬å¸Œæœ›åœ¨è¿”å›ä¸Šä¸€æ­¥æ“ä½œæ—¶ï¼Œä¹‹å‰çš„æŸ¥è¯¢æ¡ä»¶ä¾ç„¶è¿˜åœ¨ï¼Œæ‰€ä»¥æˆ‘ç”¨äº†sessionStorageå®ç°ï¼Œå¹¶ä¸”æ ¹æ®ç”¨æˆ·çš„æ“ä½œï¼ŒåŠ¨æ€çš„ä¿®æ”¹ç¼“å­˜å€¼ã€‚
...

## æœ€å
_ç”±äºæ—¶é—´ã€ç²¾åŠ›ã€èƒ½åŠ›æœ‰é™ï¼Œæ‰€ä»¥æ–‡ç« ä¸­å‡ºç°çš„ä¸€äº›é”™è¯¯ï¼Œæœ›å¤§å®¶å¤šæµ·æ¶µã€‚æˆ‘æŠŠæ•´ä¸ªé¡¹ç›®çš„å¼€å‘æ€è·¯å†™å‡ºæ¥ï¼Œå°±æ˜¯æ–¹ä¾¿å¤§å®¶è·Ÿç€æ€è·¯ï¼Œå»æ€è€ƒä¸€äº›é—®é¢˜ã€‚åŒæ—¶ä¹Ÿæ–¹ä¾¿åæœŸè‡ªå·±å›é¡¾ã€‚å¸Œæœ›å¤§å®¶ä¸€èµ·æˆé•¿ï¼Œå‰ç«¯çš„è·¯ä¸Šï¼Œä¸è¿·èŒ«ã€‚_

_æ¬¢è¿å°ä¼™ä¼´ä»¬æå‡ºè‡ªå·±çš„è§è§£ï¼Œå¹¶ä¸”æŒ‡å‡ºæ–‡ä¸­çš„é”™è¯¯ğŸ˜Š_

_If this article has give you some help . why don't give me a starâœ¨ï¼_

**ä¼ é€é—¨:**

[ä¸ªäººgithub](https://github.com/weirui88888)

[express+mongodb+vueå®ç°å¢åˆ æ”¹æŸ¥-å…¨æ ˆä¹‹è·¯](https://github.com/weirui88888/express-mongodb-node)

**å¤©é’è‰²ç­‰çƒŸé›¨ï¼Œè€Œæˆ‘åœ¨ç­‰ä½ **

**åŸåˆ›ä¸æ˜“ï¼Œä¸”è¡Œä¸”çæƒœ**





 

  [1]: https://github.com/weirui88888/express-mongodb-node
  [2]: https://youzan.github.io/vant/#/zh-CN/intro
  [3]: https://cn.vuejs.org/
  [4]: https://youzan.github.io/vant/#/zh-CN/intro
  [5]: https://router.vuejs.org/zh/
  [6]: https://www.kancloud.cn/yunye/axios/234845
  [7]: https://www.lodashjs.com/
  [8]: http://ustbhuangyi.github.io/better-scroll/doc/api.html
  [9]: http://www.expressjs.com.cn/o/better-scroll/doc/api.html
  [10]: https://mongoosejs.com/ter-scroll/doc/api.html
  [11]: http://www.runoob.com/jsref/prop-win-sessionstorage.html
  [12]: http://www.iconfont.cn/
  [13]: https://www.npmjs.com/package/vue-wechat-title
  [14]: https://cli.vuejs.org/zh/
  [15]: https://cli.vuejs.org/zh/
  [16]: https://robomongo.org/
  [17]: https://brew.sh/index_zh-cn
